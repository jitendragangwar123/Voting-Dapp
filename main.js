let WALLET_CANNECTED="";
let contractAddress="0xC3ec329E6D62f4Fb5f825112Aa7b7ff82d67812C";
let contractAbi=[
    {
        "_format": "hh-sol-artifact-1",
        "contractName": "Voting",
        "sourceName": "contracts/Voting.sol",
        "abi": [
          {
            "inputs": [
              {
                "internalType": "string[]",
                "name": "_candidateNames",
                "type": "string[]"
              },
              {
                "internalType": "uint256",
                "name": "_durationInMinutes",
                "type": "uint256"
              }
            ],
            "stateMutability": "nonpayable",
            "type": "constructor"
          },
          {
            "inputs": [
              {
                "internalType": "string",
                "name": "_name",
                "type": "string"
              }
            ],
            "name": "addCandidate",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "name": "candidates",
            "outputs": [
              {
                "internalType": "string",
                "name": "name",
                "type": "string"
              },
              {
                "internalType": "uint256",
                "name": "voteCount",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "getAllVotesOfCandidates",
            "outputs": [
              {
                "components": [
                  {
                    "internalType": "string",
                    "name": "name",
                    "type": "string"
                  },
                  {
                    "internalType": "uint256",
                    "name": "voteCount",
                    "type": "uint256"
                  }
                ],
                "internalType": "struct Voting.Candidate[]",
                "name": "",
                "type": "tuple[]"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "getRemainingTime",
            "outputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "getVotingStatus",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "uint256",
                "name": "_candidateIndex",
                "type": "uint256"
              }
            ],
            "name": "vote",
            "outputs": [],
            "stateMutability": "nonpayable",
            "type": "function"
          },
          {
            "inputs": [
              {
                "internalType": "address",
                "name": "",
                "type": "address"
              }
            ],
            "name": "voters",
            "outputs": [
              {
                "internalType": "bool",
                "name": "",
                "type": "bool"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "votingEnd",
            "outputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          },
          {
            "inputs": [],
            "name": "votingStart",
            "outputs": [
              {
                "internalType": "uint256",
                "name": "",
                "type": "uint256"
              }
            ],
            "stateMutability": "view",
            "type": "function"
          }
        ],
        "bytecode": "0x60806040523480156200001157600080fd5b506040516200169f3803806200169f8339818101604052810190620000379190620004da565b60005b8251811015620000e3576000604051806040016040528085848151811062000067576200006662000540565b5b60200260200101518152602001600081525090806001815401808255809150506001900390600052602060002090600202016000909190919091506000820151816000019080519060200190620000c092919062000156565b506020820151816001015550508080620000da906200059e565b9150506200003a565b5033600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555042600381905550603c816200013b9190620005ec565b426200014891906200064d565b60048190555050506200070f565b8280546200016490620006d9565b90600052602060002090601f016020900481019282620001885760008555620001d4565b82601f10620001a357805160ff1916838001178555620001d4565b82800160010185558215620001d4579182015b82811115620001d3578251825591602001919060010190620001b6565b5b509050620001e39190620001e7565b5090565b5b8082111562000202576000816000905550600101620001e8565b5090565b6000604051905090565b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6200026a826200021f565b810181811067ffffffffffffffff821117156200028c576200028b62000230565b5b80604052505050565b6000620002a162000206565b9050620002af82826200025f565b919050565b600067ffffffffffffffff821115620002d257620002d162000230565b5b602082029050602081019050919050565b600080fd5b600080fd5b600067ffffffffffffffff8211156200030b576200030a62000230565b5b62000316826200021f565b9050602081019050919050565b60005b838110156200034357808201518184015260208101905062000326565b8381111562000353576000848401525b50505050565b6000620003706200036a84620002ed565b62000295565b9050828152602081018484840111156200038f576200038e620002e8565b5b6200039c84828562000323565b509392505050565b600082601f830112620003bc57620003bb6200021a565b5b8151620003ce84826020860162000359565b91505092915050565b6000620003ee620003e884620002b4565b62000295565b90508083825260208201905060208402830185811115620004145762000413620002e3565b5b835b818110156200046257805167ffffffffffffffff8111156200043d576200043c6200021a565b5b8086016200044c8982620003a4565b8552602085019450505060208101905062000416565b5050509392505050565b600082601f8301126200048457620004836200021a565b5b815162000496848260208601620003d7565b91505092915050565b6000819050919050565b620004b4816200049f565b8114620004c057600080fd5b50565b600081519050620004d481620004a9565b92915050565b60008060408385031215620004f457620004f362000210565b5b600083015167ffffffffffffffff81111562000515576200051462000215565b5b62000523858286016200046c565b92505060206200053685828601620004c3565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000620005ab826200049f565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415620005e157620005e06200056f565b5b600182019050919050565b6000620005f9826200049f565b915062000606836200049f565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156200064257620006416200056f565b5b828202905092915050565b60006200065a826200049f565b915062000667836200049f565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156200069f576200069e6200056f565b5b828201905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620006f257607f821691505b60208210811415620007095762000708620006aa565b5b50919050565b610f80806200071f6000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c8063581c281c11610066578063581c281c1461011f57806385a386351461013d57806390a9ab901461015b578063a3ec138d14610179578063efb98bcf146101a957610093565b80630121b93f14610098578063101158af146100b45780633477ee2e146100d2578063462e91ec14610103575b600080fd5b6100b260048036038101906100ad9190610785565b6101c7565b005b6100bc610331565b6040516100c991906107c1565b60405180910390f35b6100ec60048036038101906100e79190610785565b610337565b6040516100fa929190610875565b60405180910390f35b61011d600480360381019061011891906109da565b6103f3565b005b6101276104f0565b6040516101349190610a3e565b60405180910390f35b61014561050a565b60405161015291906107c1565b60405180910390f35b610163610510565b6040516101709190610bb1565b60405180910390f35b610193600480360381019061018e9190610c31565b61060b565b6040516101a09190610a3e565b60405180910390f35b6101b161062b565b6040516101be91906107c1565b60405180910390f35b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610254576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024b90610caa565b60405180910390fd5b600080549050811061029b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029290610d16565b60405180910390fd5b600081815481106102af576102ae610d36565b5b906000526020600020906002020160010160008154809291906102d190610d94565b91905055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b60035481565b6000818154811061034757600080fd5b906000526020600020906002020160009150905080600001805461036a90610e0c565b80601f016020809104026020016040519081016040528092919081815260200182805461039690610e0c565b80156103e35780601f106103b8576101008083540402835291602001916103e3565b820191906000526020600020905b8154815290600101906020018083116103c657829003601f168201915b5050505050908060010154905082565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610483576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161047a90610e8a565b60405180910390fd5b600060405180604001604052808381526020016000815250908060018154018082558091505060019003906000526020600020906002020160009091909190915060008201518160000190805190602001906104e0929190610698565b5060208201518160010155505050565b60006003544210158015610505575060045442105b905090565b60045481565b60606000805480602002602001604051908101604052809291908181526020016000905b82821015610602578382906000526020600020906002020160405180604001604052908160008201805461056790610e0c565b80601f016020809104026020016040519081016040528092919081815260200182805461059390610e0c565b80156105e05780601f106105b5576101008083540402835291602001916105e0565b820191906000526020600020905b8154815290600101906020018083116105c357829003601f168201915b5050505050815260200160018201548152505081526020019060010190610534565b50505050905090565b60026020528060005260406000206000915054906101000a900460ff1681565b6000600354421015610672576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066990610ef6565b60405180910390fd5b60045442106106845760009050610695565b426004546106929190610f16565b90505b90565b8280546106a490610e0c565b90600052602060002090601f0160209004810192826106c6576000855561070d565b82601f106106df57805160ff191683800117855561070d565b8280016001018555821561070d579182015b8281111561070c5782518255916020019190600101906106f1565b5b50905061071a919061071e565b5090565b5b8082111561073757600081600090555060010161071f565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6107628161074f565b811461076d57600080fd5b50565b60008135905061077f81610759565b92915050565b60006020828403121561079b5761079a610745565b5b60006107a984828501610770565b91505092915050565b6107bb8161074f565b82525050565b60006020820190506107d660008301846107b2565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156108165780820151818401526020810190506107fb565b83811115610825576000848401525b50505050565b6000601f19601f8301169050919050565b6000610847826107dc565b61085181856107e7565b93506108618185602086016107f8565b61086a8161082b565b840191505092915050565b6000604082019050818103600083015261088f818561083c565b905061089e60208301846107b2565b9392505050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6108e78261082b565b810181811067ffffffffffffffff82111715610906576109056108af565b5b80604052505050565b600061091961073b565b905061092582826108de565b919050565b600067ffffffffffffffff821115610945576109446108af565b5b61094e8261082b565b9050602081019050919050565b82818337600083830152505050565b600061097d6109788461092a565b61090f565b905082815260208101848484011115610999576109986108aa565b5b6109a484828561095b565b509392505050565b600082601f8301126109c1576109c06108a5565b5b81356109d184826020860161096a565b91505092915050565b6000602082840312156109f0576109ef610745565b5b600082013567ffffffffffffffff811115610a0e57610a0d61074a565b5b610a1a848285016109ac565b91505092915050565b60008115159050919050565b610a3881610a23565b82525050565b6000602082019050610a536000830184610a2f565b92915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600082825260208201905092915050565b6000610aa1826107dc565b610aab8185610a85565b9350610abb8185602086016107f8565b610ac48161082b565b840191505092915050565b610ad88161074f565b82525050565b60006040830160008301518482036000860152610afb8282610a96565b9150506020830151610b106020860182610acf565b508091505092915050565b6000610b278383610ade565b905092915050565b6000602082019050919050565b6000610b4782610a59565b610b518185610a64565b935083602082028501610b6385610a75565b8060005b85811015610b9f5784840389528151610b808582610b1b565b9450610b8b83610b2f565b925060208a01995050600181019050610b67565b50829750879550505050505092915050565b60006020820190508181036000830152610bcb8184610b3c565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610bfe82610bd3565b9050919050565b610c0e81610bf3565b8114610c1957600080fd5b50565b600081359050610c2b81610c05565b92915050565b600060208284031215610c4757610c46610745565b5b6000610c5584828501610c1c565b91505092915050565b7f596f75206861766520616c726561647920766f74657321000000000000000000600082015250565b6000610c946017836107e7565b9150610c9f82610c5e565b602082019050919050565b60006020820190508181036000830152610cc381610c87565b9050919050565b7f496e76616c69642063616e64696461746520696e646578210000000000000000600082015250565b6000610d006018836107e7565b9150610d0b82610cca565b602082019050919050565b60006020820190508181036000830152610d2f81610cf3565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610d9f8261074f565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610dd257610dd1610d65565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610e2457607f821691505b60208210811415610e3857610e37610ddd565b5b50919050565b7f4f776e6572206164647265737320697320696e636f7272656374210000000000600082015250565b6000610e74601b836107e7565b9150610e7f82610e3e565b602082019050919050565b60006020820190508181036000830152610ea381610e67565b9050919050565b7f566f74696e67206e6f7420737461727465642079657421000000000000000000600082015250565b6000610ee06017836107e7565b9150610eeb82610eaa565b602082019050919050565b60006020820190508181036000830152610f0f81610ed3565b9050919050565b6000610f218261074f565b9150610f2c8361074f565b925082821015610f3f57610f3e610d65565b5b82820390509291505056fea2646970667358221220e3293be4e5f7f7922703506529c6ebe013493d81bbcc3620d00f1eef1d97065e64736f6c63430008090033",
        "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c8063581c281c11610066578063581c281c1461011f57806385a386351461013d57806390a9ab901461015b578063a3ec138d14610179578063efb98bcf146101a957610093565b80630121b93f14610098578063101158af146100b45780633477ee2e146100d2578063462e91ec14610103575b600080fd5b6100b260048036038101906100ad9190610785565b6101c7565b005b6100bc610331565b6040516100c991906107c1565b60405180910390f35b6100ec60048036038101906100e79190610785565b610337565b6040516100fa929190610875565b60405180910390f35b61011d600480360381019061011891906109da565b6103f3565b005b6101276104f0565b6040516101349190610a3e565b60405180910390f35b61014561050a565b60405161015291906107c1565b60405180910390f35b610163610510565b6040516101709190610bb1565b60405180910390f35b610193600480360381019061018e9190610c31565b61060b565b6040516101a09190610a3e565b60405180910390f35b6101b161062b565b6040516101be91906107c1565b60405180910390f35b600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615610254576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024b90610caa565b60405180910390fd5b600080549050811061029b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029290610d16565b60405180910390fd5b600081815481106102af576102ae610d36565b5b906000526020600020906002020160010160008154809291906102d190610d94565b91905055506001600260003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555050565b60035481565b6000818154811061034757600080fd5b906000526020600020906002020160009150905080600001805461036a90610e0c565b80601f016020809104026020016040519081016040528092919081815260200182805461039690610e0c565b80156103e35780601f106103b8576101008083540402835291602001916103e3565b820191906000526020600020905b8154815290600101906020018083116103c657829003601f168201915b5050505050908060010154905082565b600160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610483576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161047a90610e8a565b60405180910390fd5b600060405180604001604052808381526020016000815250908060018154018082558091505060019003906000526020600020906002020160009091909190915060008201518160000190805190602001906104e0929190610698565b5060208201518160010155505050565b60006003544210158015610505575060045442105b905090565b60045481565b60606000805480602002602001604051908101604052809291908181526020016000905b82821015610602578382906000526020600020906002020160405180604001604052908160008201805461056790610e0c565b80601f016020809104026020016040519081016040528092919081815260200182805461059390610e0c565b80156105e05780601f106105b5576101008083540402835291602001916105e0565b820191906000526020600020905b8154815290600101906020018083116105c357829003601f168201915b5050505050815260200160018201548152505081526020019060010190610534565b50505050905090565b60026020528060005260406000206000915054906101000a900460ff1681565b6000600354421015610672576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066990610ef6565b60405180910390fd5b60045442106106845760009050610695565b426004546106929190610f16565b90505b90565b8280546106a490610e0c565b90600052602060002090601f0160209004810192826106c6576000855561070d565b82601f106106df57805160ff191683800117855561070d565b8280016001018555821561070d579182015b8281111561070c5782518255916020019190600101906106f1565b5b50905061071a919061071e565b5090565b5b8082111561073757600081600090555060010161071f565b5090565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6107628161074f565b811461076d57600080fd5b50565b60008135905061077f81610759565b92915050565b60006020828403121561079b5761079a610745565b5b60006107a984828501610770565b91505092915050565b6107bb8161074f565b82525050565b60006020820190506107d660008301846107b2565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156108165780820151818401526020810190506107fb565b83811115610825576000848401525b50505050565b6000601f19601f8301169050919050565b6000610847826107dc565b61085181856107e7565b93506108618185602086016107f8565b61086a8161082b565b840191505092915050565b6000604082019050818103600083015261088f818561083c565b905061089e60208301846107b2565b9392505050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6108e78261082b565b810181811067ffffffffffffffff82111715610906576109056108af565b5b80604052505050565b600061091961073b565b905061092582826108de565b919050565b600067ffffffffffffffff821115610945576109446108af565b5b61094e8261082b565b9050602081019050919050565b82818337600083830152505050565b600061097d6109788461092a565b61090f565b905082815260208101848484011115610999576109986108aa565b5b6109a484828561095b565b509392505050565b600082601f8301126109c1576109c06108a5565b5b81356109d184826020860161096a565b91505092915050565b6000602082840312156109f0576109ef610745565b5b600082013567ffffffffffffffff811115610a0e57610a0d61074a565b5b610a1a848285016109ac565b91505092915050565b60008115159050919050565b610a3881610a23565b82525050565b6000602082019050610a536000830184610a2f565b92915050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600082825260208201905092915050565b6000610aa1826107dc565b610aab8185610a85565b9350610abb8185602086016107f8565b610ac48161082b565b840191505092915050565b610ad88161074f565b82525050565b60006040830160008301518482036000860152610afb8282610a96565b9150506020830151610b106020860182610acf565b508091505092915050565b6000610b278383610ade565b905092915050565b6000602082019050919050565b6000610b4782610a59565b610b518185610a64565b935083602082028501610b6385610a75565b8060005b85811015610b9f5784840389528151610b808582610b1b565b9450610b8b83610b2f565b925060208a01995050600181019050610b67565b50829750879550505050505092915050565b60006020820190508181036000830152610bcb8184610b3c565b905092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000610bfe82610bd3565b9050919050565b610c0e81610bf3565b8114610c1957600080fd5b50565b600081359050610c2b81610c05565b92915050565b600060208284031215610c4757610c46610745565b5b6000610c5584828501610c1c565b91505092915050565b7f596f75206861766520616c726561647920766f74657321000000000000000000600082015250565b6000610c946017836107e7565b9150610c9f82610c5e565b602082019050919050565b60006020820190508181036000830152610cc381610c87565b9050919050565b7f496e76616c69642063616e64696461746520696e646578210000000000000000600082015250565b6000610d006018836107e7565b9150610d0b82610cca565b602082019050919050565b60006020820190508181036000830152610d2f81610cf3565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610d9f8261074f565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415610dd257610dd1610d65565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610e2457607f821691505b60208210811415610e3857610e37610ddd565b5b50919050565b7f4f776e6572206164647265737320697320696e636f7272656374210000000000600082015250565b6000610e74601b836107e7565b9150610e7f82610e3e565b602082019050919050565b60006020820190508181036000830152610ea381610e67565b9050919050565b7f566f74696e67206e6f7420737461727465642079657421000000000000000000600082015250565b6000610ee06017836107e7565b9150610eeb82610eaa565b602082019050919050565b60006020820190508181036000830152610f0f81610ed3565b9050919050565b6000610f218261074f565b9150610f2c8361074f565b925082821015610f3f57610f3e610d65565b5b82820390509291505056fea2646970667358221220e3293be4e5f7f7922703506529c6ebe013493d81bbcc3620d00f1eef1d97065e64736f6c63430008090033",
        "linkReferences": {},
        "deployedLinkReferences": {}
      }
      

];

const connectMetamask=async()=>{
    const provider=new ethers.providers.Web3Provider(window.ethereum);
    await provider.send("eth_requestAccounts",[]);
    const signer=provider.getSigner();
    WALLET_CANNECTED=await signer.getAddress();
    var element=document.getElementById("metamasknotification");
    element.innerHTML="Metamask is Connected : " + WALLET_CANNECTED;
}